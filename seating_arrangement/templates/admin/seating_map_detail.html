<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Room Seating Map</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <style>
    .seat-card {
      cursor: pointer;
      min-width: 60px;
      text-align: center;
    }
    .seat-card-empty {
      min-width: 60px;
      text-align: center;
      opacity: 0.5;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <h3>Room {{ room.room_number }} Layout</h3>
    <hr />

    {% for row_benches in benches %}
      <div class="d-flex gap-3 mb-3 justify-content-center">
        {% for bench in row_benches %}
          <div class="d-flex gap-1">
            {% for seat in bench %}
              {% if seat %}
                <div
                  class="badge bg-primary text-white p-3 seat-card"
                  data-bs-toggle="tooltip"
                  data-bs-html="true"
                  title="
                    <strong>{{ seat.name }}</strong><br/>
                    Roll No: {{ seat.roll_number }}<br/>
                    Course: {{ seat.course }}<br/>
                    Dept: {{ seat.department }}<br/>
                    Year: {{ seat.year }}
                  "
                >
                  {{ seat.roll_number }}
                </div>
              {% else %}
                <div class="badge bg-light text-muted p-3 seat-card-empty">Empty</div>
              {% endif %}
            {% endfor %}
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Activate Bootstrap tooltips
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));
  </script>
</body>
</html>
